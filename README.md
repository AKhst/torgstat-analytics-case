# SaaS Analytics Case (PostgreSQL + dbt + Power BI)

–£—á–µ–±–Ω–æ-–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–æ–µ–∫—Ç, –ø—Ä–∏–±–ª–∏–∂–µ–Ω–Ω—ã–π –∫ —Ä–µ–∞–ª—å–Ω–æ–π –±–æ–µ–≤–æ–π –∑–∞–¥–∞—á–µ: –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–æ–π –≤–∏—Ç—Ä–∏–Ω—ã –∏ –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—ã—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö –∏ –ø–æ–¥–ø–∏—Å–∫–∞—Ö SaaS-—Å–µ—Ä–≤–∏—Å–∞.  

–ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏:  
**–≥–µ–Ω–µ—Ä–∞—Ü–∏—è ‚Üí —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ PostgreSQL ‚Üí –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ (dbt) ‚Üí –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ (SQL/Python) ‚Üí –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è (Power BI).**

---

## üéØ –¶–µ–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞
- –°–º–æ–¥–µ–ª–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ, –ø–æ—Ö–æ–∂–∏–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –∫–∞–Ω–∞–ª—ã –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏—è, –ø–æ–¥–ø–∏—Å–∫–∏, –ø–ª–∞—Ç–µ–∂–∏, –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏).  
- –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –∏—Ö –≤ PostgreSQL –≤–Ω—É—Ç—Ä–∏ Docker.  
- –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –ø–∞–π–ø–ª–∞–π–Ω —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –Ω–∞ —Å–ª–æ–∏ (raw ‚Üí staging ‚Üí mart).  
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞ –∏ –ø—Ä–æ–¥–∞–∫—Ç–∞:  
  - CR –ø–æ –∫–∞–Ω–∞–ª–∞–º –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏—è  
  - Retention / Churn  
  - LTV –ø–æ —Ç–∞—Ä–∏—Ñ–∞–º  
  - DAU/WAU/MAU  
- –ü–æ–¥–∫–ª—é—á–∏—Ç—å Power BI –∏ —Å–æ–±—Ä–∞—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω—á–µ—Å–∫—É—é –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å.  

---

## ‚öôÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- **PostgreSQL 15** (Docker Compose)
- **dbt-core** –¥–ª—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–π
- **Python (pandas, numpy)** ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö, EDA
- **Power BI** ‚Äî –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
- **VS Code + Jupyter Notebooks** ‚Äî –∞–Ω–∞–ª–∏–∑, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–∏–ø–æ—Ç–µ–∑

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

–í —Å—Ö–µ–º–µ `analytics` –≤ PostgreSQL –ª–µ–∂–∞—Ç —Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ:

- **users** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (id, –¥–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, —Ä–µ–≥–∏–æ–Ω)  
- **sessions** ‚Äî —Å–µ—Å—Å–∏–∏ –∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —Ç—Ä–∞—Ñ–∏–∫–∞ (utm_source, utm_medium, utm_campaign)  
- **plans** ‚Äî —Ç–∞—Ä–∏—Ñ–Ω—ã–µ –ø–ª–∞–Ω—ã (Basic / Pro / Business)  
- **subscriptions** ‚Äî –ø–æ–¥–ø–∏—Å–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Å—Ç–∞—Ç—É—Å (active/churned)  
- **invoices** ‚Äî —Å—á–µ—Ç–∞/–ø–ª–∞—Ç–µ–∂–∏ (—Å—É–º–º–∞, –¥–∞—Ç—ã, –æ–ø–ª–∞—á–µ–Ω/–Ω–µ—Ç)  
- **events** ‚Äî –¥–µ–π—Å—Ç–≤–∏—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ (app_open, feature_a, feature_b)

---

## üöÄ –ó–∞–ø—É—Å–∫

1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç:  
   git clone https://github.com/USERNAME/torgstat-analytics-case.git
   cd torgstat-analytics-case
2. –ü–æ–¥–Ω—è—Ç—å PostgreSQL —á–µ—Ä–µ–∑ Docker Compose:
   docker-compose up -d
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –ª–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏ –≥–æ—Ç–æ–≤–æ –∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é –∫ –±–∞–∑–µ
   –∑–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ 
   /Users/admin/torgstat-analytics-case/check_postgres.sh
3. –î–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∑—è—Ç—Å—è –∏–∑ init/ –∏ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –≤ —Å—Ö–µ–º–µ analytics.
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:
   psql -h localhost -U appuser -d torgdb
   Password:  # –≤–≤–æ–¥–∏—à—å –ø–∞—Ä–æ–ª—å –¥–ª—è appuser
5. –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ (CSV) –≤ PostgreSQL —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç load_data.py –∏–ª–∏ Jupyter Notebook.
6. –°–æ–∑–¥–∞—Ç—å staging-—Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ (01_staging.ipynb) ‚Üí —Ç–∞–±–ª–∏—Ü—ã stg_*.
7. –ü–æ—Å—Ç—Ä–æ–∏—Ç—å marts (02_marts.ipynb) ‚Üí —Ç–∞–±–ª–∏—Ü—ã dim_* –∏ fact_*.
8. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≤—è–∑–∏ –∏ –∫–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ —á–µ—Ä–µ–∑ SQL –≤ Jupyter.
9. –ü–æ–¥–∫–ª—é—á–∏—Ç—å Power BI / Superset –∫ —Å—Ö–µ–º–µ analytics –∏ —Å—Ç—Ä–æ–∏—Ç—å –¥–∞—à–±–æ—Ä–¥—ã.